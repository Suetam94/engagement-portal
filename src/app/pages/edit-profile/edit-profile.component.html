<div class="edit-profile-page bg-white rounded-lg shadow-md p-6 max-w-lg mx-auto mt-12">
  <h2 class="text-xl font-bold mb-4">Edit Profile</h2>
  <form [formGroup]="editProfileForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <!-- Name Field -->
    <div class="mb-4">
      <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
      <input
        id="name"
        formControlName="name"
        type="text"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500" />
      <div *ngIf="submitted && f['name'].errors" class="text-sm text-red-600 mt-1">
        <p *ngIf="f['name'].errors?.['required']">Name is required.</p>
        <p *ngIf="f['name'].errors?.['minlength']">Name must be at least 3 characters long.</p>
      </div>
    </div>

    <!-- Email Field -->
    <div class="mb-4">
      <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
      <input
        id="email"
        formControlName="email"
        type="email"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500" />
      <div *ngIf="submitted && f['email'].errors" class="text-sm text-red-600 mt-1">
        <p *ngIf="f['email'].errors?.['required']">Email is required.</p>
        <p *ngIf="f['email'].errors?.['email']">Please enter a valid email address.</p>
      </div>
    </div>

    <!-- Profile Picture Field -->
    <div class="mb-4">
      <label id="profilePictureLabel" for="profilePicture" class="block text-sm font-medium text-gray-700 mb-2">Profile Picture</label>
      <div class="flex items-center space-x-4">
        <!-- Preview Image -->
        <div class="h-24 w-24 rounded-full bg-gray-100 border border-gray-300 flex items-center justify-center overflow-hidden">
          <img
            *ngIf="previewUrl"
            [src]="previewUrl"
            alt="Profile Preview"
            class="h-full w-full object-cover" />
          <span *ngIf="!previewUrl" class="text-gray-400 text-sm">No Image</span>
        </div>
        <!-- Upload Button -->
        <div>
          <label
            for="profilePicture"
            class="px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm cursor-pointer hover:bg-blue-700">
            Upload
          </label>
          <input
            id="profilePicture"
            type="file"
            accept="image/*"
            (change)="onFileSelected($event)"
            class="hidden" />
          <p class="mt-2 text-sm text-gray-500">Select a new image to update your profile picture.</p>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-between items-center mt-6">
      <button
        type="button"
        class="px-4 py-2 bg-gray-300 rounded-md hover:bg-gray-400"
        (click)="cancelEdit()">
        Cancel
      </button>
      <button
        type="submit"
        class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
        Save Changes
      </button>
    </div>
  </form>
</div>
